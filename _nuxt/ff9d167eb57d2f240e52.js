(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{226:function(r,t,e){"use strict";e.r(t);var v={layout:"desc"},_=e(25),component=Object(_.a)(v,(function(){var r=this.$createElement;this._self._c;return this._m(0)}),[function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"col-12 col-lg-10 col-md-12 parent"},[e("div",{staticClass:"content"},[e("h1",[r._v("NUXT.js")]),r._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#project"}},[r._v("プロジェクト作成")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#serve"}},[r._v("サーバ起動")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#urlParam"}},[r._v("urlパラメータ取得")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#queryStr"}},[r._v("クエリストリング取得")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#ajax"}},[r._v("Ajax関連")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#localStorage"}},[r._v("ローカルストレージへの保存")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#middleware"}},[r._v("ミドルウェア")])]),r._v(" "),e("li",[e("a",{attrs:{href:"#accessBody"}},[r._v("bodyにアクセス")])])]),r._v(" "),e("h2",{attrs:{id:"project"}},[r._v("プロジェクト作成")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("yarn create nuxt-app [プロジェクト名]")]),r._v(" "),e("p",[r._v("npx create-nuxt-app [プロジェクト名] (yarnがないとき)")]),r._v(" "),e("h2",{staticClass:"serve"},[r._v("サーバ起動")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("yarn dev")]),r._v(" "),e("p",[r._v("npm run dev (yarnがないとき)")]),r._v(" "),e("h3",[r._v("デフォルトポート変更")]),r._v(" "),e("code",[r._v("package.json")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v('\r\n    "scripts":{\r\n        "dev": "nuxt --port 3001"\r\n    }\r\n            ')]),r._v("\r\n        ")]),r._v(" "),e("h2",{attrs:{id:"urlParam"}},[r._v("urlパラメータ取得")]),r._v(" "),e("p",[r._v("例）~localhost:3000/user/1")]),r._v(" "),e("h3",[r._v("params引数があるとき(asyncDataなど)")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("params.id")]),r._v(" "),e("h3",[r._v("methodsなどのとき")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("this.$nuxt.$route.params.id")]),r._v(" "),e("h2",{attrs:{id:"queryStr"}},[r._v("クエリストリング取得")]),r._v(" "),e("p",[r._v("例）~localhost:3000/user?id=1")]),r._v(" "),e("h3",[r._v("query引数があるとき(asyncDataなど)")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("query.id")]),r._v(" "),e("h3",[r._v("methodsなどのとき")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("this.$route.query.id")]),r._v(" "),e("h2",{attrs:{id:"ajax"}},[r._v("Ajax関連(axios)")]),r._v(" "),e("h3",[r._v("書き方")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("this.$axios.$get(url).then(res => {})")]),r._v(" "),e("ul",[e("li",[e("p",{staticClass:"bold"},[r._v("return this.$axios.get(url)")])]),r._v(" "),e("ul",[e("li",[r._v("共通化する書き方")])])]),r._v(" "),e("h3",[r._v("ヘッダの設定")]),r._v(" "),e("code",[r._v("plugins/axios.js")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v("\r\n    export default function({$axios, store}){\r\n        $axios.onRequest(config => {\r\n            config.headers.common['Authorization'] = `トークンなど`\r\n        })\r\n        return config\r\n    }\r\n            ")]),r._v("\r\n        ")]),r._v(" "),e("code",[r._v("nuxt.confing.hs")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v("\r\n    plugins:[\r\n        '~/plugins/axios.js'\r\n    ]\r\n            ")]),r._v("\r\n        ")]),r._v(" "),e("h2",{attrs:{id:"localStorage"}},[r._v("localStorageへの保存")]),r._v(" "),e("p",{staticClass:"bold"},[r._v("yarn add vuex-persistedstate")]),r._v(" "),e("code",[r._v("plugins/persistedstate.js")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v("\r\n    import createPersistedState from 'vuex-persistedstate'\r\n    export default({store}) => {\r\n        window.onNuxtReady(() => {\r\n            createPersistedState({key: 'キー名'})(store)\r\n        })\r\n    }\r\n            ")]),r._v("\r\n        ")]),r._v(" "),e("code",[r._v("nuxt.confing.hs")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v("\r\n    plugins:[\r\n        '~/plugins/persistedstate.js'\r\n    ]\r\n            ")]),r._v("\r\n        ")]),r._v(" "),e("h2",{attrs:{id:"middleware"}},[r._v("ミドルウェア")]),r._v(" "),e("code",[r._v("middleware/auth.js")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v("\r\n    export default function({route, redirect, store}){\r\n        ユーザチェックなどの処理\r\n    }\r\n            ")]),r._v("\r\n        ")]),r._v(" "),e("h2",{attrs:{id:"accessBody"}},[r._v("bodyにアクセス")]),r._v(" "),e("pre",[r._v("\r\n            "),e("code",[r._v("\r\n    export default{\r\n        head(){\r\n            return{\r\n                bodyAttrs:{\r\n                    class: 'クラス名'\r\n                }\r\n            }\r\n        }\r\n    }\r\n            ")]),r._v("\r\n        ")])])])}],!1,null,null,null);t.default=component.exports}}]);