(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{222:function(t,e,r){"use strict";r.r(e);var _={layout:"desc"},l=r(25),component=Object(l.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-12 col-md-12 col-lg-10 parent"},[r("div",{staticClass:"content"},[r("h1",[t._v("Ruby on Rails (~>"),r("nuxt-link",{attrs:{to:"/ruby/devise"}},[t._v("DEVISE")]),t._v(", ~>"),r("nuxt-link",{attrs:{to:"/ruby/mail"}},[t._v("メール関連")]),t._v(")")],1),t._v(" "),t._m(0),t._v(" "),r("h2",{attrs:{id:"project"}},[t._v("プロジェクト作成")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails new アプリ名 [-d mysql][--api]")]),t._v(" "),t._m(1),t._v(" "),r("h2",{attrs:{id:"dbInit"}},[t._v("データベース作成")]),t._v(" "),r("code",[t._v("config/database.yml")]),t._v(" "),t._m(2),t._v(" "),r("h2",{attrs:{id:"serve"}},[t._v("サーバ起動")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails s")]),t._v(" "),r("h2",{attrs:{id:"controller"}},[t._v("コントローラ")]),t._v(" "),r("h3",[t._v("作成")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails g controller コントローラ名")]),t._v(" "),r("p",[t._v("例")]),t._v(" "),t._m(3),t._v(" "),r("h3",[t._v("メソッド")]),t._v(" "),r("h4",[t._v("検索")]),t._v(" "),t._m(4),t._v(" "),r("h4",[t._v("レコード作成")]),t._v(" "),t._m(5),t._v(" "),r("h4",[t._v("更新")]),t._v(" "),t._m(6),t._v(" "),r("h4",[t._v("削除")]),t._v(" "),t._m(7),t._v(" "),r("h2",{attrs:{id:"model"}},[t._v("モデル")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails g model モデル名")]),t._v(" "),r("h3",[t._v("アソシエーション")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("has_many :posts")]),t._v(" "),t._m(8),t._v(" "),r("p",{staticClass:"bold"},[t._v("belongs_to :user")]),t._v(" "),t._m(9),t._v(" "),r("h3",[t._v("メソッド")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("has_secure_password")]),t._v(" "),t._m(10),t._v(" "),r("p",{staticClass:"bold"},[t._v("has_secure_token")]),t._v(" "),t._m(11),t._v(" "),r("h2",{attrs:{id:"rooting"}},[t._v("ルーティング(config/route.rb)")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("httpメソッド パス => モデル#メソッド")]),t._v(" "),r("p",[t._v("例")]),t._v(" "),t._m(12),t._v(" "),r("h3",[t._v("resourceルーティング")]),t._v(" "),t._m(13),t._v(" "),r("h2",{attrs:{id:"migrate"}},[t._v("マイグレーション")]),t._v(" "),r("h3",[t._v("実行")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails db:migrate")]),t._v(" "),r("h3",[t._v("やり直し")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails db:rollback")]),t._v(" "),r("h3",[t._v("シード")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails db:seed")]),t._v(" "),r("h3",[t._v("ファイル作成")]),t._v(" "),r("p",{staticClass:"bold"},[t._v("rails g migration ファイル名(AddNameToUserなど)")]),t._v(" "),t._m(14)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"#project"}},[t._v("プロジェクト作成")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#dbInit"}},[t._v("データベース作成")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#controller"}},[t._v("コントローラ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#model"}},[t._v("モデル")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#rooting"}},[t._v("ルーティング")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#migrate"}},[t._v("マイグレーション")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("-d DB名")]),this._v("でデータベースの種類を指定")]),this._v(" "),e("li",[e("code",[this._v("--api")]),this._v("でAPIモードで作成")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[this._v("\r\n            "),e("code",[this._v("\r\n    default: &default\r\n        ~~\r\n        username: ユーザ名\r\n        password: パスワード\r\n            ")]),this._v("\r\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("rails g controller User")])]),this._v(" "),e("li",[e("code",[this._v("rails g controller api::User")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("User.find_by(id: 1)")])]),this._v(" "),e("li",[e("code",[this._v("User.where(id: 1)")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("User.new(name: 'hoge', email: 'hoge@example.com').save!")])]),this._v(" "),e("li",[e("code",[this._v("User.new(params.require(:user).permit(:name)).save!")])]),this._v(" "),e("ul",[e("li",[this._v("ストロングパラメータでの書き方")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("User.update_all(name: 'hoge')")])]),this._v(" "),e("li",[e("code",[this._v("User.update()")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("User.delete()")])]),this._v(" "),e("li",[e("code",[this._v("User.destroy()")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("1:多")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("多:1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("パスワードをハッシュ化")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("ユニークなトークンを発行")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("get '/login' => 'user#login'")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[this._v("\r\n            "),e("code",[this._v("\r\n    namespace 'api', {format: 'json'} do\r\n        resources :user do\r\n            collection do   #urlが固定(user/login)など\r\n                get :login\r\n            end\r\n\r\n            member do       #urlが動的(user/1/mypage)など\r\n                get :mypage\r\n            end\r\n            ")]),this._v("\r\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[this._v("\r\n            "),e("code",[this._v("\r\n    def up #変更内容を記述\r\n        change_column :users, :name, :string, null: false #カラムの変更(テーブル名、カラム名、型、オプション)\r\n\r\n        add_column :users, :name, :string, default: '', after: :email #カラム追加(テーブル名、カラム名、型、オプション、追加位置の指定)\r\n\r\n        remove_column :users,:name #カラム削除\r\n    end\r\n            ")]),this._v("\r\n        ")])}],!1,null,null,null);e.default=component.exports}}]);